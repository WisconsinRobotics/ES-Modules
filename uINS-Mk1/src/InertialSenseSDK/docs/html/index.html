<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SDK: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo_Full_color_300x61.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDK
   &#160;<span id="projectnumber">Release 1.1.3</span>
   </div>
   <div id="projectbrief">Communications, logger, and bootloader libraries.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SDK Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>SDK</b> - The Inertial Sense open source software development kit provides quick integration for communication with the Inertial Sense product line, including the uINS, uAHRS, and uINS. It includes data logger, math libraries, and serial port interface for Linux and Windows environments.</p>
<p><b>EvalTool</b> - Graphical Windows-based desktop program that allows you to explore and test functionality of the Inertial Sense products in real-time. It has scrolling plots, 3D model representation, table views of all data, data logger, and firmware updating interface for the uINS, uAHRS, or uIMU. The EvalTool can simultaneously interface with multiple Inertial Sense devices.</p>
<p><b>CLTool</b> - Command line utility that can be used to communicate, log data, and update firmware for Inertial Sense products. Additionally, InertialSenseCLTool serves as example source code to demonstrate how to integrate the Inertial Sense SDK into your own source code. The InertialSenseCLTool can be compiled in Linux and Windows.</p>
<h3>Documents</h3>
<ul>
<li><a href="http://docs.inertialsense.com/">SDK Documentation</a></li>
<li><a href="https://github.com/inertialsense/InertialSenseSDK/files/1308832/IS_User_Manual.pdf">User Manual</a></li>
<li><a href="https://github.com/inertialsense/InertialSenseSDK/files/1308833/uIMU_uAHRS_uINS_Datasheet.pdf">Datasheet - uINS, uAHRS, and uIMU</a></li>
<li><a href="https://github.com/inertialsense/InertialSenseSDK/files/1308836/release-notes.txt">Release Notes</a> - version information and software change log.</li>
</ul>
<h3>Downloads</h3>
<ul>
<li><a href="https://github.com/inertialsense/InertialSenseSDK/releases">SDK &amp; CLTool Binaries</a> - pre-compiled release static libraries and executables for Linux and Windows.</li>
<li><a href="https://github.com/inertialsense/InertialSenseSDK">SDK &amp; CLTool Source Code</a> - open source SDK repository with command line tool and example C/C++ source code.</li>
<li><a href="https://github.com/inertialsense/InertialSenseSDK/releases">Firmware and EvalTool</a> - uINS, uAHRS, and uIMU firmware and Windows application installer.</li>
</ul>
<h3>Design Resources</h3>
<ul>
<li><a href="https://inertialsense.com/resources">uINS PCB Design Libraries</a> - Schematic and layout files for printed circuit board designs.</li>
<li><a href="https://inertialsense.com/resources">uINS, uAHRS, uIMU CAD Model</a> - 3D step model of uINS and EVB used for CAD and circuit board designs.</li>
</ul>
<h3>Support</h3>
<ul>
<li>Email - <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt@'+'in'+'ert'+'ia'+'lse'+'ns'+'e.c'+'om'; return false;">suppo<span style="display: none;">.nosp@m.</span>rt@i<span style="display: none;">.nosp@m.</span>nerti<span style="display: none;">.nosp@m.</span>alse<span style="display: none;">.nosp@m.</span>nse.c<span style="display: none;">.nosp@m.</span>om</a></li>
</ul>
<hr/>
 <h2>CLTool Instructions</h2>
<h4>Compiling in Linux</h4>
<ol type="1">
<li>Create build directory inside SDK/InertialSenseCLTool/. <pre class="fragment"> $ cd InertialSenseCLTool
 $ mkdir build
</pre></li>
<li><p class="startli">Run cmake from within build directory. </p><pre class="fragment"> $ cd build
 $ cmake ..
</pre><p class="startli">to cross-compile to 32 or 64 bit: </p><pre class="fragment">   sudo apt-get install libc6-dev-i386
   sudo apt-get install gcc-multilib g++-multilib
</pre><p class="startli">32 bit </p><pre class="fragment">   cmake .. -DCMAKE_CXX_FLAGS=-m32 -DCMAKE_C_FLAGS=-m32
</pre><p class="startli">64 bit </p><pre class="fragment">   cmake .. -DCMAKE_CXX_FLAGS=-m64 -DCMAKE_C_FLAGS=-m64
</pre></li>
<li>Compile using make. <pre class="fragment"> $ make
</pre></li>
<li><p class="startli">Add current user to the "dialout" group in order to read and write to the USB serial communication ports: </p><pre class="fragment"> $ sudo usermod -a -G dialout $USER
 $ sudo usermod -a -G plugdev $USER
</pre><p class="startli">(<b>Reboot computer</b>)</p>
</li>
<li>Run executable <pre class="fragment"> $ ./bin/cltool
</pre></li>
</ol>
<h4>Compiling in Windows (MS Visual Studio)</h4>
<ol type="1">
<li>Open Visual Studio solution file (InertialSenseCLTool.sln).</li>
<li>Build (F5 or F7).</li>
</ol>
<hr/>
 <h1>SDK Instructions</h1>
<h3><a class="el" href="class_inertial_sense.html">InertialSense</a> Class</h3>
<p>The <a class="el" href="class_inertial_sense.html">InertialSense</a> class provides a simple, powerful, and convenient method to communicate, data log, and bootload firmware with the uINS, uAHRS, and uIMU. It is designed primarily around the Inertial Sense binary protocol. Please refer to the <b>InertialSenseCLTool</b> project files <b><a class="el" href="main_8cpp_source.html">main.cpp</a></b> and <b><a class="el" href="cltool_8cpp_source.html">cltool.cpp</a></b> with the follow instructions.</p>
<h4>[COMM INSTRUCTIONS]</h4>
<ul>
<li>Create <a class="el" href="class_inertial_sense.html">InertialSense</a> object and open serial port.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// [COMM INSTRUCTION] 1.) Create InertialSense object and open serial port. </span></div><div class="line"><a class="code" href="class_inertial_sense.html">InertialSense</a> inertialSenseInterface(cltool_dataCallback);</div><div class="line"><span class="keywordflow">if</span> (!inertialSenseInterface.Open(g_commandLineOptions.comPort.c_str()))</div><div class="line">{   </div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Failed to open serial port at &quot;</span> &lt;&lt; g_commandLineOptions.comPort.c_str() &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">return</span> -1;  <span class="comment">// Failed to open serial port</span></div><div class="line">}</div></div><!-- fragment --><ul>
<li>Enable data broadcasting from uINS.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// [COMM INSTRUCTION] 2.) Enable data broadcasting from uINS</span></div><div class="line">cltool_setupCommunications(inertialSenseInterface);</div></div><!-- fragment --><ul>
<li>The Update() function must be called at regular intervals to send and receive data.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// Main loop.  Could be in separate thread if desired.</span></div><div class="line"><span class="keywordflow">while</span> (!g_ctrlCPressed)</div><div class="line">{</div><div class="line">    <span class="comment">// [COMM INSTRUCTION] 3.) Process data and messages</span></div><div class="line">    inertialSenseInterface.Update();</div><div class="line"></div><div class="line">    <span class="comment">// Specify the minimum time between read/write updates.</span></div><div class="line">    SLEEP_MS(1);</div><div class="line">}</div></div><!-- fragment --><ul>
<li>New data is available in the data callback function.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// [COMM INSTRUCTION] 4.) This function is called every time there is new data.</span></div><div class="line"><span class="keywordtype">void</span> cltool_dataCallback(<a class="code" href="class_inertial_sense.html">InertialSense</a>* i, <a class="code" href="structp__data__t.html">p_data_t</a>* data)</div><div class="line">{</div><div class="line">    <span class="comment">// Print data to terminal</span></div><div class="line">    g_inertialSenseDisplay.ProcessData(data);</div><div class="line"></div><div class="line">    <span class="comment">// uDatasets is a union of all datasets that we can receive.  See data_sets.h for a full list of all available datasets. </span></div><div class="line">    <a class="code" href="struct_p_a_c_k_e_d.html">uDatasets</a> d = {};</div><div class="line">    copyDataPToStructP(&amp;d, data, <span class="keyword">sizeof</span>(<a class="code" href="struct_p_a_c_k_e_d.html">uDatasets</a>));</div><div class="line"></div><div class="line">    <span class="comment">// Example of how to access dataset fields.</span></div><div class="line">    <span class="keywordflow">switch</span> (data-&gt;<a class="code" href="structp__data__t.html#ad581435f6761781c248158d69ca502f9">hdr</a>.<a class="code" href="structp__data__hdr__t.html#a0a70811dba0872fe68a2d58c24cb7894">id</a>)</div><div class="line">    {</div><div class="line">    <span class="keywordflow">case</span> DID_INS_2:        </div><div class="line">        d.<a class="code" href="struct_p_a_c_k_e_d.html#a6a123757df83d941697899acf03901e5">ins2</a>.qn2b;        <span class="comment">// quaternion attitude </span></div><div class="line">        d.<a class="code" href="struct_p_a_c_k_e_d.html#a6a123757df83d941697899acf03901e5">ins2</a>.uvw;         <span class="comment">// body velocities</span></div><div class="line">        d.<a class="code" href="struct_p_a_c_k_e_d.html#a6a123757df83d941697899acf03901e5">ins2</a>.lla;         <span class="comment">// latitude, longitude, altitude</span></div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_INS_1:             </div><div class="line">        d.<a class="code" href="struct_p_a_c_k_e_d.html#aa10bb4f9a4716900b86ac08265b2974d">ins1</a>.theta;       <span class="comment">// euler attitude</span></div><div class="line">        d.<a class="code" href="struct_p_a_c_k_e_d.html#aa10bb4f9a4716900b86ac08265b2974d">ins1</a>.lla;         <span class="comment">// latitude, longitude, altitude</span></div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_DUAL_IMU:          d.dualImu;      <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_DELTA_THETA_VEL:   d.dThetaVel;    <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_IMU_1:             d.<a class="code" href="struct_p_a_c_k_e_d.html#a70a14afeb3bf411fd7accdaec3bf2f2a">imu</a>;          <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_IMU_2:             d.<a class="code" href="struct_p_a_c_k_e_d.html#a70a14afeb3bf411fd7accdaec3bf2f2a">imu</a>;          <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_GPS:               d.gps;          <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_MAGNETOMETER_1:    d.<a class="code" href="struct_p_a_c_k_e_d.html#ac311f3c734c3808caae1ef15cc55676e">mag</a>;          <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_MAGNETOMETER_2:    d.<a class="code" href="struct_p_a_c_k_e_d.html#ac311f3c734c3808caae1ef15cc55676e">mag</a>;          <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_BAROMETER:         d.baro;         <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> DID_SYS_SENSORS:       d.sysSensors;   <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><h4>[LOGGER INSTRUCTIONS]</h4>
<p>The steps described in the COMM INSTRUCTIONS section are needed in addition to those in this section.</p>
<ul>
<li>To configure and start the data logger, call cltool_setupLogger(). This function may be called directly or duplicated for your purposes.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// [LOGGER INSTRUCTION] Setup data logger</span></div><div class="line">cltool_setupLogger(inertialSenseInterface);</div></div><!-- fragment --><h4>[BOOTLOADER INSTRUCTIONS]</h4>
<p>The steps described in the COMM INSTRUCTIONS section are needed in addition to those in this section.</p>
<ul>
<li>To execute the bootloader, call cltool_runBootloader(). This function may be called directly or duplicated for your purposes.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// [BOOTLOADER INSTRUCTIONS] Update firmware</span></div><div class="line"><span class="keywordflow">return</span> cltool_runBootloader(g_commandLineOptions.comPort.c_str(), g_commandLineOptions.bootloaderFileName.c_str(), NULL);</div></div><!-- fragment --><hr/>
<p> (c) 2014 Inertial Sense, LLC </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 16 2017 23:00:18 for SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
